{"id":"morphir-rust-1","title":"Add builtin extension support to extension registry and discovery","description":"Extend extension registry to support builtin extensions. Add discovery logic for builtin extensions from CLI resources or bundled paths. Prioritize builtin extensions over registry extensions when both exist. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:35:49.337642401-06:00","created_by":"damian","updated_at":"2026-01-24T03:12:31.239207858-06:00"}
{"id":"morphir-rust-10","title":"Implement universal JSON and JSON Lines output support for programmatic access","description":"Create shared output utilities (output.rs) with OutputFormat enum (Human, Json, JsonLines). Implement write_output and write_json_lines functions. Add --json and --json-lines flags to all commands. Support streaming JSON Lines for progressive output. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:36:10.612217123-06:00","created_by":"damian","updated_at":"2026-01-24T03:12:35.733689322-06:00"}
{"id":"morphir-rust-11","title":"Add rich error handling and diagnostics using miette (with JSON serialization support)","description":"Convert extension diagnostics to CLI-friendly error messages. Use miette for rich error reporting with source spans (human-readable mode). In JSON mode, include diagnostics in structured output. Ensure errors are serializable for JSON output. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:36:12.930781494-06:00","created_by":"damian","updated_at":"2026-01-24T03:20:21.971752091-06:00"}
{"id":"morphir-rust-12","title":"Set up build process to bundle Gleam binding WASM","description":"Bundle morphir-gleam-binding.wasm as a resource. Include WASM file in CLI binary or resources directory. Set up build process to compile Gleam binding to WASM. Ensure WASM target compilation is configured in Cargo.toml. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:36:15.298703906-06:00","created_by":"damian","updated_at":"2026-01-24T03:20:22.119039134-06:00"}
{"id":"morphir-rust-13","title":"Add CLI help text and examples for Gleam commands","description":"Add examples for Gleam commands in help.rs. Document configuration options in morphir.toml. Add usage examples for both language-agnostic and Gleam-specific command styles. Document .morphir/ folder structure. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:36:17.557253215-06:00","created_by":"damian","updated_at":"2026-01-24T03:20:22.264054972-06:00"}
{"id":"morphir-rust-14","title":"Add BDD/acceptance tests that invoke CLI directly for blackbox e2e testing","description":"Extend BDD test infrastructure to support CLI invocation. Add step definitions for CLI command execution. Use tempfile for temporary directories. Test CLI commands as blackbox (invoke actual morphir binary). Create cli.feature BDD file with scenarios. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:36:19.879960538-06:00","created_by":"damian","updated_at":"2026-01-24T03:20:22.412491665-06:00"}
{"id":"morphir-rust-15","title":"Create CLI test helpers for managing test environments (temp dirs, config files, etc.)","description":"Create cli_helpers.rs module with CliTestContext, create_test_project(), create_test_workspace(), write_test_config(), assertion helpers (assert_cli_success, assert_output_contains, assert_json_output, assert_morphir_structure). Integrate into GleamTestWorld. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:36:22.19700276-06:00","created_by":"damian","updated_at":"2026-01-24T03:20:22.553787112-06:00"}
{"id":"morphir-rust-16","title":"Add unit and integration tests for CLI commands","description":"Add unit tests for compile/generate command logic. Integration tests for extension discovery, configuration loading/merging, error handling, JSON output formatting, JSON Lines streaming. Test .morphir/ folder structure creation. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:36:24.563758611-06:00","created_by":"damian","updated_at":"2026-01-24T03:20:22.704876828-06:00"}
{"id":"morphir-rust-2","title":"Implement language-agnostic compile command with extension loading","description":"Create compile subcommand with optional flags (config provides defaults). Auto-discover config, load config context, merge config with CLI args, resolve paths, discover extension by language, load extension WASM, collect source files, call morphir.frontend.compile, handle diagnostics. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:35:51.764007398-06:00","created_by":"damian","updated_at":"2026-01-24T03:12:34.497551836-06:00"}
{"id":"morphir-rust-3","title":"Implement full generate command replacing stub","description":"Replace stub implementation with full generate command. Auto-discover config, load config context, resolve IR input path, discover backend extension by target language, load IR (detect format), call morphir.backend.generate, write generated artifacts. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:35:54.084308296-06:00","created_by":"damian","updated_at":"2026-01-24T03:12:34.64297281-06:00"}
{"id":"morphir-rust-4","title":"Create Gleam-specific subcommands (compile, generate, roundtrip)","description":"Create Gleam subcommand module with Compile, Generate, and Roundtrip subcommands. Implement convenience wrappers that set language/target automatically. Add to Commands enum in main.rs. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:35:56.462909895-06:00","created_by":"damian","updated_at":"2026-01-24T03:12:34.839709576-06:00"}
{"id":"morphir-rust-5","title":"Implement configuration discovery (walk up directory tree) and context loading","description":"Create configuration discovery utilities: discover_config (walk up to find morphir.toml), discover_morphir_dir (find .morphir/), load_config_context (workspace/project detection). Implement config merging logic and .morphir/ folder structure resolution. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:35:58.834906302-06:00","created_by":"damian","updated_at":"2026-01-24T03:12:34.98708395-06:00"}
{"id":"morphir-rust-6","title":"Integrate morphir.toml configuration loading, merging, and path resolution with .morphir/ folder structure","description":"Integrate morphir.toml configuration loading. Extract frontend/backend settings. Merge CLI arguments with config values (CLI overrides config). Support workspace and project configurations. Ensure path resolution uses .morphir/ structure. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:36:01.25827661-06:00","created_by":"damian","updated_at":"2026-01-24T03:12:35.134320225-06:00"}
{"id":"morphir-rust-7","title":"Implement canonical .morphir/ folder structure (.morphir/ir/, .morphir/out/, .morphir/logs/, etc.)","description":"Implement canonical .morphir/ folder structure: .morphir/ir/ for IR output, .morphir/dist/ for distributions, .morphir/out/ for generated code, .morphir/logs/ for logs, .morphir/cache/ for cache. Ensure folder is created automatically. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:36:03.793243631-06:00","created_by":"damian","updated_at":"2026-01-24T03:12:35.2823244-06:00"}
{"id":"morphir-rust-8","title":"Update Gleam binding visitor to write to .morphir/ir/ instead of .morphir-dist/","description":"Update GleamToMorphirVisitor to write Document Tree to .morphir/ir/ instead of .morphir-dist/. Update format.json location, module manifests, type/value files. Update lib.rs to use new paths. Maintain backward compatibility if needed. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:36:06.088418722-06:00","created_by":"damian","updated_at":"2026-01-24T03:12:35.430819274-06:00"}
{"id":"morphir-rust-9","title":"Implement extension discovery by language/target with builtin fallback","description":"Add find_extension_by_language() and find_extension_by_target() methods to extension registry. Support builtin extension lookup. Fallback to registry if builtin not found. Add helper functions in commands/mod.rs. Related to Gleam CLI integration plan.","status":"done","priority":2,"issue_type":"task","created_at":"2026-01-24T02:36:08.34263116-06:00","created_by":"damian","updated_at":"2026-01-24T03:12:35.582178948-06:00"}
